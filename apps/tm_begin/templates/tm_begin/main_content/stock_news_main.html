    <div class="stock_news">
    <h2>ğŸ“° ì£¼ì‹ ê´€ë ¨ ë‰´ìŠ¤</h2>
    <p class="inv-sub" id="news-meta-main"></p>

    <!-- ë¡œë”© ìŠ¤í”¼ë„ˆ -->
    <div id="loading-spinner-main" class="loading-spinner-overlay">
        <div class="spinner"></div>
    </div>

    <!-- ë‰´ìŠ¤ ì½˜í…ì¸ ê°€ ë™ì ìœ¼ë¡œ ì±„ì›Œì§ˆ ì»¨í…Œì´ë„ˆ -->
    <div id="news-content-main"></div>

    <div class="mt-2 text-end">
        <a class="btn btn-sm btn-outline-secondary" href="{% url 'tm_begin:stock_news' %}">
        ë”ë³´ê¸° â†’
        </a>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const newsContent = document.getElementById("news-content-main");
  const newsMeta = document.getElementById("news-meta-main");
  const loadingSpinner = document.getElementById("loading-spinner-main");

  function fetchAndRenderNews() {
    loadingSpinner.style.display = 'flex';

    fetch(`{% url 'tm_begin:index_json' %}`)
      .then(response => response.json())
      .then(data => {
        newsContent.innerHTML = '';
        newsMeta.innerHTML = '';

        if (data.updated_at) {
          newsMeta.textContent = `ì—…ë°ì´íŠ¸: ${data.updated_at} (${data.count}ê±´)`;
        }

        if (data.news_list && data.news_list.length > 0) {
          newsContent.innerHTML += renderHeroItem(data.news_list[0]);
          const gridContainer = document.createElement('div');
          gridContainer.className = 'inv-row';
          data.news_list.slice(1, 5).forEach(item => {
            gridContainer.innerHTML += renderGridItem(item);
          });
          newsContent.appendChild(gridContainer);
        } else {
          newsContent.innerHTML = '<p>í‘œì‹œí•  ë‰´ìŠ¤ê°€ ì—†ì–´ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</p>';
        }

        loadingSpinner.style.display = 'none';
      })
      .catch(error => {
        console.error('Error fetching news:', error);
        newsContent.innerHTML = '<p>ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
        loadingSpinner.style.display = 'none';
      });
  }

  function renderHeroItem(item) {
    const image = item.img ? `<img src="${item.img}" alt="${item.title}">` : '<div class="no-image"><span>ğŸ“ˆ</span></div>';
    const summary = item.summary ? `<p class="inv-desc inv-line-5">${item.summary}</p>` : '';
    return `
      <div class="inv-hero">
        <div class="inv-hero-img">
          <a href="${item.link}" target="_blank" rel="noopener">
            ${image}
          </a>
        </div>
        <div class="inv-hero-content">
          <a href="${item.link}" target="_blank" rel="noopener" class="inv-title-lg inv-hero-title">
            ${item.title}
          </a>
          ${summary}
          <div class="inv-meta">
            <time>${item.published}</time>
            <span>${item.source}</span>
          </div>
        </div>
      </div>
    `;
  }

  function renderGridItem(item) {
    const image = item.img ? `<img src="${item.img}" alt="${item.title}">` : '<div class="no-image-small"><span>ğŸ“°</span></div>';
    return `
      <div class="inv-card">
        <a href="${item.link}" target="_blank" rel="noopener" class="inv-thumb">
          ${image}
        </a>
        <a href="${item.link}" target="_blank" rel="noopener" class="inv-title inv-line-2">
          ${item.title}
        </a>
        <div class="inv-meta">
          <time>${item.published}</time>
        </div>
      </div>
    `;
  }

  fetchAndRenderNews();
});
</script>